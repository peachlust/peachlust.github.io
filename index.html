<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>peachfantacy.github.io</title>
    <link rel="icon" href="./imgs/logo.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Nunito&display=swap"
      rel="stylesheet"
    />
    <style>
      html,
      body {
        overscroll-behavior: none;
        touch-action: none;
      }
      body {
        background: url("./imgs/bg2.jpg") no-repeat center center fixed;
        background-size: cover;
        margin: 0;
        padding: 0;
        font-size: 32px;
        font-family: "Inter", sans-serif;
        font-optical-sizing: auto;
        font-weight: 400;
        font-style: normal;
        /* opacity: 0; */
      }
      .header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        padding: 18px 60px 0 40px;
      }
      /* .header .logo {
        position: absolute;
        left: 40px;
        top: 30px;
      } */
      #lang-btn {
        width: 20px;
        height: 20px;
      }
      .content {
        width: 430px;
        position: absolute;
        top: 50%;
        transform: translate(0%, -50%);
        right: 20%;
      }
      .content h6 {
        font-size: 24px;
        color: #fff;
        margin-bottom: 16px;
        text-align: center;
        font-style: normal;
        font-weight: 400;
      }
      .dns-list {
        list-style: none;
        padding: 0;
      }
      .dns-list li {
        font-size: 18px;
        height: 79px;
        width: 100%;
        height: 79px;
        display: flex;
        gap: 20px;
        color: #448dfb;
        border-radius: 127px;
        background: rgba(255, 255, 255, 0.8);
        padding: 10px 20px;
        box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.05);
        margin-bottom: 13px;
        box-sizing: border-box;
        font-style: normal;
        font-weight: 400;
        align-items: center;
      }
      .dns-list li span {
        color: #fff;
        font-size: 16px;
        display: inline-block;
        width: 120px;
        height: 42px;
        border-radius: 20px;
        background: rgba(134, 36, 36, 0.54);
        text-align: center;
        line-height: 42px;
        padding: 0 10px;
        font-weight: 300;
        min-height: 42px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .dns-list li span.dns-mian-line {
        background: linear-gradient(0deg, #f44fad 0%, #fe98d2 100%);
        line-height: normal;
      }
      .dns-list li span.dns-type {
        height: auto;
        height: fit-content;
        line-height: normal;
      }
      .dns-list li a {
        color: #448dfb;
        font-size: 16px;
        font-weight: 300;
      }
      .lang-selector {
        position: relative;
        display: inline-block;
        /* height: fit-content;  // 移除高度限制 */
      }
      #lang-menu {
        position: absolute;
        z-index: 1000;
        background: #fff;
        margin-top: 10px;
        right: 0;
        top: 30px; /* 让菜单紧贴按钮下方，30px为按钮高度 */
        border-radius: 6px;
        width: 180px;
        box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.09);
        display: none;
      }
      .lang-selector {
        height: fit-content;
      }
      .lang-option {
        color: var(--Text-2, #5e5e5e);
        /* subtle-medium */
        font-family: Inter;
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: 20px;
        border-bottom: 1px solid #e9e9e9;
      }
      .lang-option:hover {
        opacity: 0.8;
      }
      .lang-option:last-child {
        border-bottom: 0;
      }
      @media (max-width: 1200px) {
        .content {
          width: 80%;
          position: absolute;
          top: 50%;
          transform: translate(0%, -50%);
          right: 0;
          left: 10% !important;
        }
      }
      a {
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <img src="./imgs/logo.svg" alt="logo" class="logo" />
      <div
        class="lang-selector"
        style="position: relative; display: inline-block; height: fit-content"
      >
        <img
          src="./imgs/lang.svg"
          alt="logo"
          class="logo"
          id="lang-btn"
          style="cursor: pointer"
        />
        <div id="lang-menu">
          <div
            class="lang-option"
            data-lang="cn"
            style="padding: 12px 24px; cursor: pointer"
          >
            简体中文
          </div>
          <div
            class="lang-option"
            data-lang="en"
            style="padding: 12px 24px; cursor: pointer"
          >
            English
          </div>
          <div
            class="lang-option"
            data-lang="de"
            style="padding: 12px 24px; cursor: pointer"
          >
            Deutsch
          </div>
          <div
            class="lang-option"
            data-lang="fr"
            style="padding: 12px 24px; cursor: pointer"
          >
            Français
          </div>
          <div
            class="lang-option"
            data-lang="es"
            style="padding: 12px 24px; cursor: pointer"
          >
            Español
          </div>
          <div
            class="lang-option"
            data-lang="ru"
            style="padding: 12px 24px; cursor: pointer"
          >
            Русский
          </div>
          <div
            class="lang-option"
            data-lang="id"
            style="padding: 12px 24px; cursor: pointer"
          >
            Bahasa Indonesia
          </div>
        </div>
      </div>
    </div>
    <div class="content">
      <h6>收藏关注不迷路</h6>
      <ul class="dns-list"></ul>
    </div>
  </body>
  <script>
    const langSelector = document.querySelector(".lang-selector");
    const langMenu = document.getElementById("lang-menu");

    // 只监听 lang-selector
    langSelector.onmouseenter = () => {
      langMenu.style.display = "block";
    };
    langSelector.onmouseleave = () => {
      langMenu.style.display = "none";
    };

    // 点击外部区域隐藏菜单
    document.addEventListener("click", function (e) {
      if (!langSelector.contains(e.target)) {
        langMenu.style.display = "none";
      }
    });

    // 语言包
    const LANGS = {
      cn: {
        title: "收藏关注不迷路",
        main: "主线路",
        backup1: "备用线路1",
        backup2: "备用线路2",
      },
      en: {
        title: "Bookmark us to never get lost",
        main: "Main Line",
        backup1: "Backup Line 1",
        backup2: "Backup Line 2",
      },
      de: {
        title: "Lesezeichen setzen, um nicht verloren zu gehen",
        main: "Hauptleitung",
        backup1: "Backup-Leitung 1",
        backup2: "Backup-Leitung 2",
      },
      fr: {
        title: "Marquez-nous pour ne jamais vous perdre",
        main: "Ligne principale",
        backup1: "Ligne de secours 1",
        backup2: "Ligne de secours 2",
      },
      es: {
        title: "Marcanos para no perderte nunca",
        main: "Línea principal",
        backup1: "Línea de respaldo 1",
        backup2: "Línea de respaldo 2",
      },
      ru: {
        title: "Добавьте нас в закладки, чтобы не заблудиться",
        main: "Основная линия",
        backup1: "Резервная линия 1",
        backup2: "Резервная линия 2",
      },
      id: {
        title: "Bookmark agar tidak tersesat",
        main: "Jalur Utama",
        backup1: "Jalur Cadangan 1",
        backup2: "Jalur Cadangan 2",
      },
    };
    // 获取URL参数
    function getQueryParam(name) {
      const url = new URL(window.location.href);
      return url.searchParams.get(name);
    }
    // 设置语言
    function setLang(lang) {
      const l = LANGS[lang] || LANGS["en"];
      document.querySelector(".content h6").innerText = l.title;
      document.querySelector(".dns-list li:nth-child(1) span").innerText =
        l.main;
      document.querySelector(".dns-list li:nth-child(2) span").innerText =
        l.backup1;
      document.querySelector(".dns-list li:nth-child(3) span").innerText =
        l.backup2;
    }
    // 监听选择
    document.querySelectorAll(".lang-option").forEach((opt) => {
      opt.onclick = function () {
        const lang = this.getAttribute("data-lang");
        const url = new URL(window.location.href);
        url.searchParams.set("lang", lang);
        window.location.href = url.toString();
      };
    });
    // 页面加载时根据参数切换
    const langParam = getQueryParam("lang") || "en";

    const hosts = [
      {
        name: "主线路",
        url: `https://peachfantacy.ai/${langParam}`,
      },
      {
        name: "备用线路1",
        url: `https://peachfantacy.ai/${langParam}`,
      },
      {
        name: "备用线路2",
        url: `https://peachfantacy.ai/${langParam}`,
      },
    ];

    const dnsList = document.querySelector(".dns-list");
    hosts.forEach((host) => {
      const li = document.createElement("li");
      li.innerHTML = `<span class=${
        host.name === "主线路" ? "dns-mian-line" : "dns-type"
      }>${host.name}</span><a href="${host.url}" target="_blank">${
        host.url
      }</a>`;
      dnsList.appendChild(li);
    });
    setLang(langParam);
  </script>
</html>
